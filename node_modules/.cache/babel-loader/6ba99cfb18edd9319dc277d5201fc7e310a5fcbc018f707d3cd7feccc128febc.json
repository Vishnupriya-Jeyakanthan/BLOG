{"ast":null,"code":"import VueRouter from 'vue-router';\nimport LoginPage from \"./components/LoginPage.vue\";\nimport homePageComponent from './components/homePageComponent.vue';\nimport productDescriptionDetails from '../src/components/productDescriptionDetails.vue';\n// import productCardComponent from './components/productCardComponent.vue';\n// import LoginPage from './components/js/LoginPage';\n\nlet routes = [{\n  path: '/home',\n  name: \"homePageComponent\",\n  component: homePageComponent\n}, {\n  path: '/',\n  name: \"login_page\",\n  component: LoginPage\n},\n// {\n//   path: '/productCartComponent',\n//   name: \"productCardComponent\",\n//   component: productCardComponent\n// },\n{\n  path: '/description',\n  name: 'ProductDescriptiondetails',\n  component: productDescriptionDetails\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  routes\n});\n\n// router.beforeEach((to, from,next)=> {\n//   console.log(\"beforeeach\")\n//   console.log(to)\n//   console.log(from)\n//   if(to.name == 'homePageComponent' && from.name === null)\n//   {\n//     setTimeout(function() { alert(\"Unauthoirzed Access\"); }, 10);\n\n//     // alert('Unauthorized access')\n//     next('/')\n//   }\n//   next()\n// })\n// router.beforeResolve((to, from,next)=> {\n//   console.log(\"beforeResolve\")\n//   console.log(to)\n//   console.log(from)\n//   next()\n// })\nrouter.beforeEach((to, from, next) => {\n  console.log(\"beforeeach2\");\n  console.log(to);\n  console.log(from);\n  const routes = ['ProductDescriptiondetails', 'home'];\n  if (to.name == 'ProductDescriptiondetails') {\n    const isUserLoggedIn = window.localStorage.getItem('userLoggedIn');\n    if (isUserLoggedIn) {\n      next();\n    } else {\n      next('/');\n    }\n  } else if (to.name == 'login_page') {\n    const isUserLoggedIn = window.localStorage.getItem('userLoggedIn');\n    if (!isUserLoggedIn) {\n      next('/');\n    } else {\n      if (from.name == null) {\n        next(\"home\");\n      } else {\n        next(from.path);\n      }\n    }\n  } else {\n    next();\n  }\n});\n\n//router.beforeEach((to,from,next)\nexport default router;","map":{"version":3,"names":["VueRouter","LoginPage","homePageComponent","productDescriptionDetails","routes","path","name","component","router","mode","beforeEach","to","from","next","console","log","isUserLoggedIn","window","localStorage","getItem"],"sources":["/Users/vishnupriya/Documents/vue js/vue_day1/src/router.js"],"sourcesContent":["import VueRouter from 'vue-router'\nimport LoginPage from \"./components/LoginPage.vue\";\n import homePageComponent from './components/homePageComponent.vue';\n import productDescriptionDetails from '../src/components/productDescriptionDetails.vue';\n// import productCardComponent from './components/productCardComponent.vue';\n// import LoginPage from './components/js/LoginPage';\n\n\nlet routes = [\n  {\n    path: '/home',\n    name: \"homePageComponent\",\n    component: homePageComponent\n  },\n  {\npath: '/',\n    name: \"login_page\",\n    component: LoginPage\n  },\n  // {\n  //   path: '/productCartComponent',\n  //   name: \"productCardComponent\",\n  //   component: productCardComponent\n  // },\n  {\n     path:'/description',\n     name:'ProductDescriptiondetails',\n     component:productDescriptionDetails\n  },\n]\n  const router = new VueRouter(\n    {\n      mode: \"history\",\n      routes\n    }\n  )\n\n  // router.beforeEach((to, from,next)=> {\n  //   console.log(\"beforeeach\")\n  //   console.log(to)\n  //   console.log(from)\n  //   if(to.name == 'homePageComponent' && from.name === null)\n  //   {\n  //     setTimeout(function() { alert(\"Unauthoirzed Access\"); }, 10);\n\n  //     // alert('Unauthorized access')\n  //     next('/')\n  //   }\n  //   next()\n  // })\n  // router.beforeResolve((to, from,next)=> {\n  //   console.log(\"beforeResolve\")\n  //   console.log(to)\n  //   console.log(from)\n  //   next()\n  // })\n  router.beforeEach((to, from,next)=> {\n    console.log(\"beforeeach2\")\n    console.log(to)\n    console.log(from)   \n    const routes = ['ProductDescriptiondetails','home']\n    if(to.name == 'ProductDescriptiondetails') {\n      const isUserLoggedIn = window.localStorage.getItem('userLoggedIn')\n      if(isUserLoggedIn )\n      {\n       next()\n      } else {\n        next('/')\n      }\n    } else if(to.name == 'login_page') {\n      const isUserLoggedIn = window.localStorage.getItem('userLoggedIn')\n      if(!isUserLoggedIn)\n      {\n        next('/')\n      }\n      else{\n        if(from.name == null) {\n          next(\"home\")\n        } else {\n          next(from.path)\n        }\n        \n      }\n    } else {\n      next()\n    }\n\n  })\n\n\n  //router.beforeEach((to,from,next)\nexport default router;"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,OAAOC,SAAS,MAAM,4BAA4B;AACjD,OAAOC,iBAAiB,MAAM,oCAAoC;AAClE,OAAOC,yBAAyB,MAAM,iDAAiD;AACxF;AACA;;AAGA,IAAIC,MAAM,GAAG,CACX;EACEC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,mBAAmB;EACzBC,SAAS,EAAEL;AACb,CAAC,EACD;EACFG,IAAI,EAAE,GAAG;EACLC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEN;AACb,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;EACGI,IAAI,EAAC,cAAc;EACnBC,IAAI,EAAC,2BAA2B;EAChCC,SAAS,EAACJ;AACb,CAAC,CACF;AACC,MAAMK,MAAM,GAAG,IAAIR,SAAS,CAC1B;EACES,IAAI,EAAE,SAAS;EACfL;AACF,CAAC,CACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAI,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAACC,IAAI,KAAI;EAClCC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;EAC1BD,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;EACfG,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjB,MAAMR,MAAM,GAAG,CAAC,2BAA2B,EAAC,MAAM,CAAC;EACnD,IAAGO,EAAE,CAACL,IAAI,IAAI,2BAA2B,EAAE;IACzC,MAAMU,cAAc,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClE,IAAGH,cAAc,EACjB;MACCH,IAAI,EAAE;IACP,CAAC,MAAM;MACLA,IAAI,CAAC,GAAG,CAAC;IACX;EACF,CAAC,MAAM,IAAGF,EAAE,CAACL,IAAI,IAAI,YAAY,EAAE;IACjC,MAAMU,cAAc,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClE,IAAG,CAACH,cAAc,EAClB;MACEH,IAAI,CAAC,GAAG,CAAC;IACX,CAAC,MACG;MACF,IAAGD,IAAI,CAACN,IAAI,IAAI,IAAI,EAAE;QACpBO,IAAI,CAAC,MAAM,CAAC;MACd,CAAC,MAAM;QACLA,IAAI,CAACD,IAAI,CAACP,IAAI,CAAC;MACjB;IAEF;EACF,CAAC,MAAM;IACLQ,IAAI,EAAE;EACR;AAEF,CAAC,CAAC;;AAGF;AACF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}